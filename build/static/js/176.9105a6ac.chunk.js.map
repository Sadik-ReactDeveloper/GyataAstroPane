{"version":3,"sources":["views/apps/calls/VideoCall.js"],"names":["randomID","len","result","i","chars","maxPos","length","charAt","Math","floor","random","getUrlParams","url","window","location","href","urlStr","split","URLSearchParams","App","roomID","get","astroName","localStorage","getItem","myMeeting","element","kitToken","ZegoUIKitPrebuilt","generateKitTokenForTest","toString","create","joinRoom","container","useFrontFacingCamera","sharedLinks","name","protocol","host","pathname","turnOnCameraWhenJoining","scenario","mode","config","role","showScreenSharingButton","preJoinViewConfig","title","className","ref","style","width","height"],"mappings":";2RACA,06MAIA,SAASA,EAASC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEC,EAFEC,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAL,EAAMA,GAAO,EACRE,EAAI,EAAGA,EAAIF,EAAKE,IACnBD,GAAUE,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEpD,OAAOH,EAGF,SAASS,IAA0C,IAA7BC,EAAG,uDAAGC,OAAOC,SAASC,KAC7CC,EAASJ,EAAIK,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAGd,SAASG,IACtB,IAAMC,EAAST,IAAeU,IAAI,WAAarB,EAAS,GAClDsB,EAAYC,aAAaC,QAAQ,aACnCC,EAAS,uCAAG,WAAOC,GAAO,uEAEd,WAEO,mCAEfC,EAAWC,oBAAkBC,wBAJrB,WAEO,mCAKnBT,EACApB,EAAS,GAAG8B,WACZR,GAISM,oBAAkBG,OAAOJ,GAEjCK,SAAS,CACVC,UAAWP,EACXQ,sBAAsB,EACtBC,YAAa,CACX,CACEC,KAAM,gBACNxB,IACEC,OAAOC,SAASuB,SAChB,KACAxB,OAAOC,SAASwB,KAChB,eACAzB,OAAOC,SAASyB,SAChB,WACAnB,IAGNoB,yBAAyB,EACzBC,SAAU,CAERC,KAAM,eACNC,OAAQ,CACNC,KAAM,SAIVC,yBAAyB,EACzBC,kBAAmB,CACjBC,MAAO,kCAER,2CACJ,gBA/CY,sCAiDb,OACE,uBAAKC,UAAU,aACb,uBACEA,UAAU,kCACVC,IAAKxB,EACLyB,MAAO,CAAEC,MAAO,QAASC,OAAQ","file":"static/js/176.9105a6ac.chunk.js","sourcesContent":["import * as React from \"react\";\r\n// import './style.css';\r\n// import { getUserID } from \"../astrologerdetail\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\n\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getUrlParams(url = window.location.href) {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function App() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n  const astroName = localStorage.getItem(\"astroname\");\r\n  let myMeeting = async (element) => {\r\n    // generate Kit Token\r\n    const appID = 1011009319;\r\n    // const response = getUserID();\r\n    const serverSecret = \"0b7c5477f07346c1a906c99d3f171f2e\";\r\n    //  console.log(window.location.pathname)\r\n    const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n      appID,\r\n      serverSecret,\r\n      roomID,\r\n      randomID(5).toString(),\r\n      astroName\r\n    );\r\n\r\n    // Create instance object from Kit Token.\r\n    const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n    // start the call\r\n    zp.joinRoom({\r\n      container: element,\r\n      useFrontFacingCamera: false,\r\n      sharedLinks: [\r\n        {\r\n          name: \"Personal link\",\r\n          url:\r\n            window.location.protocol +\r\n            \"//\" +\r\n            window.location.host +\r\n            \"/#/VideoCall\" +\r\n            window.location.pathname +\r\n            \"?roomID=\" +\r\n            roomID,\r\n        },\r\n      ],\r\n      turnOnCameraWhenJoining: false,\r\n      scenario: {\r\n        // mode: ZegoUIKitPrebuilt.VideoConference,\r\n        mode: \"OneONoneCall\",\r\n        config: {\r\n          role: \"Host\",\r\n        },\r\n      },\r\n\r\n      showScreenSharingButton: true,\r\n      preJoinViewConfig: {\r\n        title: \"Join AstroGyata Meeting Room\",\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div\r\n        className=\"myCallContainer pt-3  container\"\r\n        ref={myMeeting}\r\n        style={{ width: \"100vw\", height: \"100vh\" }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}