{"version":3,"sources":["views/pages/authentication/login/LoginJWT.js","views/apps/calls/Streaming.js","views/apps/astrochat/YourliveStream.js","../node_modules/reactstrap/es/FormGroup.js"],"names":["LoginJWT","props","handlechange","e","setState","target","name","value","handleSignUp","window","location","replace","handleLogin","preventDefault","axiosConfig","post","mobile","state","then","response","console","log","data","otpMsg","msg","swal","catch","error","handleOtp","otp","localStorage","setItem","_id","JSON","stringify","Fragment","this","className","onSubmit","type","required","placeholder","maxLength","onChange","render","history","Ripple","color","countryCodeEditable","country","mobileError","style","cursor","onClick","React","Component","connect","values","auth","login","loginWithJWT","randomID","len","result","i","chars","maxPos","length","charAt","Math","floor","random","App","roomID","url","href","urlStr","split","URLSearchParams","getUrlParams","get","role","ZegoUIKitPrebuilt","Host","sharedLinks","Cohost","push","protocol","host","pathname","userName","kitToken","generateKitTokenForTest","myMeeting","element","create","joinRoom","container","useFrontFacingCamera","scenario","mode","LiveStreaming","config","ref","width","height","YourliveStream","useState","videoCall","setVideoCall","setliveId","Status","setStatus","setToken","show","setShow","Addcall","livestraming","setlivestraming","useEffect","handlePopstate","pushState","addEventListener","removeEventListener","lg","md","sm","payload","astroAccount","getItem","status","res","token","message","err","removeItem","handlestatus","check","liveidnew","handleofflinestreaming","display","_excluded","propTypes","children","PropTypes","node","row","bool","inline","disabled","tag","tagPropType","string","cssModule","object","FormGroup","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","createElement","_extends","defaultProps"],"mappings":";6UAqBMA,G,QAAQ,kDACZ,WAAYC,GAAQ,IAAD,EAMf,OANe,qBACjB,cAAMA,IAORC,aAAe,SAACC,GACd,EAAKC,SAAS,eAAGD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,SAC1C,EACFC,aAAe,SAACL,GACdM,OAAOC,SAASC,QAAQ,sBACxB,EACFC,YAAc,SAACT,GACbA,EAAEU,iBACFC,IACGC,KAAK,qBAAsB,CAC1BC,OAAQ,EAAKC,MAAMD,SAEpBE,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAASG,MACrB,EAAKlB,SAAS,CAAEmB,OAAQJ,EAASG,KAAKE,MACZ,+BAAtBL,EAASG,KAAKE,KAChBC,IAAK,iCAGRC,OAAM,SAACC,GACNP,QAAQC,IAAIM,EAAMR,UAClBM,IACE,SACA,sDACA,aAGN,EACFG,UAAY,SAACzB,GACXA,EAAEU,iBACFC,IACGC,KAAK,oBAAqB,CACzBC,OAAQ,EAAKC,MAAMD,OACnBa,IAAK,EAAKZ,MAAMY,MAGjBX,MAAK,SAACC,GAGqB,iBAAtBA,EAASG,KAAKE,MAChBC,IAAK,qBACLK,aAAaC,QAAQ,UAAWZ,EAASG,KAAKU,KAC9CF,aAAaC,QAAQ,YAAaE,KAAKC,UAAUf,EAASG,OAG1Db,OAAOC,SAASC,QAAQ,WAI3Be,OAAM,SAACC,GACNP,QAAQC,IAAIM,EAAMR,SAASG,KAAKU,KAChCP,IACE,SACA,sDACA,aA5DN,EAAKR,MAAQ,CACXD,OAAQ,GACRO,OAAQ,GACRM,IAAK,IACL,EAyJH,OAxJA,mCA4DD,WAAU,IAAD,OACP,OACE,kBAAC,IAAMM,SAAQ,KACU,0BAAtBC,KAAKnB,MAAMM,OACV,kBAAC,IAAQ,CAACc,UAAU,QAClB,kBAAC,IAAI,CAACC,SAAUF,KAAKR,WACnB,kBAAC,IAAS,CAACS,UAAU,oDACnB,kBAAC,IAAK,CACJE,KAAK,SACLjC,KAAK,MACLkC,UAAQ,EACRC,YAAY,YACZC,UAAW,EACXnC,MAAO6B,KAAKnB,MAAMY,IAClBc,SAAUP,KAAKlC,eAIjB,kBAAC,IAAK,cAGR,yBAAKmC,UAAU,iCACb,kBAAC,IAAK,CACJO,OAAQ,YAAU,EAAPC,QAAO,OAChB,kBAAC,IAAOC,OAAM,CAACC,MAAM,UAAUR,KAAK,UAAQ,eAStD,kBAAC,IAAQ,CAACF,UAAU,QAClB,kBAAC,IAAI,CAACC,SAAUF,KAAKxB,aACnB,kBAAC,IAAS,CAACyB,UAAU,oDACnB,yBAAKA,UAAU,qBACb,kBAAC,IAAK,uBACN,kBAAC,IAAU,CACTW,qBAAqB,EACrBX,UAAU,UACVY,QAAS,KACT1C,MAAO6B,KAAKnB,MAAMD,OAClB2B,SAAU,SAAC3B,GACT,EAAKZ,SAAS,CAAEY,OAAQA,OAGA,KAA3BoB,KAAKnB,MAAMiC,YACV,0BAAMC,MAAO,CAAEJ,MAAO,QACnBX,KAAKnB,MAAMiC,aAEZ,OAKR,yBAAKb,UAAU,iCACb,kBAAC,IAAK,CACJO,OAAQ,YAAU,EAAPC,QAAO,OAChB,kBAAC,IAAOC,OAAM,CAACC,MAAM,UAAUR,KAAK,UAAQ,gBAQpD,yBAAKF,UAAU,uCACb,qDACA,kBAAC,IAAK,CACJO,OAAQ,YAAU,EAAPC,QAAO,OAChB,yBACER,UAAU,GACVc,MAAO,CAAEJ,MAAO,OAAQK,OAAQ,WAChCC,QAAS,EAAK7C,cAAa,oBAkB5C,EAhKW,CAAS8C,IAAMC,YAwKdC,iBANS,SAACvC,GACvB,MAAO,CACLwC,OAAQxC,EAAMyC,KAAKC,SAIiB,CAAEC,kBAA3BJ,CAA2CxD,I,gIC5L1D,06MA8DA,SAAS6D,EAASC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEC,EAFEC,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAL,EAAMA,GAAO,EACRE,EAAI,EAAGA,EAAIF,EAAKE,IACnBD,GAAUE,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEpD,OAAOH,EAQM,SAASS,IACtB,IAAMC,EAND,WAAmD,IAA7BC,EAAG,uDAAGjE,OAAOC,SAASiE,KAC7CC,EAASF,EAAIG,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAIZG,GAAeC,IAAI,WAAanB,EAAS,GACxDzC,QAAQC,IAAI,OAAQoD,GACpB,IAEMQ,EAAOC,oBAAkBC,KAC/B/D,QAAQC,IAAI,OAAQ4D,GAOpB,IAAIG,EAAc,GACdH,IAASC,oBAAkBC,MAAQF,IAASC,oBAAkBG,QAChED,EAAYE,KAAK,CACfhF,KAAM,kBACNoE,IACEjE,OAAOC,SAAS6E,SAChB,KACA9E,OAAOC,SAAS8E,KAChB/E,OAAOC,SAAS+E,SAChB,WACAhB,EACA,iBAGNW,EAAYE,KAAK,CACfhF,KAAM,mBACNoE,IACEjE,OAAOC,SAAS6E,SAChB,KACA9E,OAAOC,SAAS8E,KAChB/E,OAAOC,SAAS+E,SAChB,WACAhB,EACA,mBAGJ,IACMiB,EAAW7B,EAAS,GAGpB8B,EAAWT,oBAAkBU,wBAJrB,UAGO,mCAInBnB,EACAZ,EAAS,GACT6B,GAIFtE,QAAQC,IAAIoD,GAEZ,IAAIoB,EAAS,uCAAG,WAAOC,GAAO,iEAEjBZ,oBAAkBa,OAAOJ,GAGjCK,SAAS,CACVC,UAAWH,EACXI,sBAAsB,EACtBC,SAAU,CACRC,KAAMlB,oBAAkBmB,cACxBC,OAAQ,CACNrB,SAGJG,gBACC,2CACJ,gBAhBY,sCAkBb,OACE,gCACE,uBACE/C,UAAU,mBACVkE,IAAKV,EACL1C,MAAO,CAAEqD,MAAO,QAASC,OAAQ,c,8NCsD1BC,UA1Mf,WACE,MAAkCC,oBAAS,GAAM,mBAA1CC,EAAS,KAAEC,EAAY,KAC9B,EAA4BF,mBAAS,IAAG,mBAAzBG,GAAF,KAAW,MACxB,EAA6CH,mBAAS,IAAG,mBACzD,GADyB,KAAgB,KACbA,mBAAS,KAAG,mBAAjCI,EAAM,KAAEC,EAAS,KACxB,EAA0BL,mBAAS,IAAG,mBAAxBM,GAAF,KAAU,MACtB,EAAwBN,oBAAS,GAAM,mBAAhCO,EAAI,KAAEC,EAAO,KACpB,EAA8BR,oBAAS,GAAM,mBAAtCS,EAAO,KACd,GAD0B,KACcT,oBAAS,IAAM,mBAAhDU,EAAY,KAAEC,EAAe,KAEpC,EAAwBX,oBAAS,GAAM,mBACvC,GADW,KAAS,KACsBA,sBAAU,mBA8GpD,OA9GoB,KAAkB,KAiBtCY,qBAAU,WACR,IAAMC,EAAiB,WAErB/G,OAAOoC,QAAQ4E,UAAU,KAAM,KAAMhH,OAAOC,SAAS+E,WAMvD,OAFAhF,OAAOiH,iBAAiB,WAAYF,GAE7B,WAEL/G,OAAOkH,oBAAoB,WAAYH,MAExC,IAiFD,yBAAKnF,UAAU,kBACb,kBAAC,IAAI,KACH,kBAAC,IAAG,KACF,kBAAC,IAAG,CAACuF,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACpB,yBAAKzF,UAAU,uBACb,kBAAC,IAAM,CAACgB,QAAS,SAAClD,GAAC,OAlEV,SAACA,GACpBA,EAAEU,iBACF,IAEMkH,EAAU,CACdC,aAHclG,aAAamG,QAAQ,WAInCC,QAAQ,GAGK,WAAXnB,IACFI,GAAQ,GACRrG,IACGC,KAAK,2BAA4BgH,GAEjC7G,MAAK,SAACiH,GAAS,IAAD,MAE0B,MAMF,aAPrC/G,QAAQC,IAAI8G,EAAI7G,MACK,mBAAjB6G,EAAI7G,KAAKE,OACXyF,EAAiB,QAAT,EAACkB,EAAI7G,YAAI,aAAR,EAAU8G,OACnBtB,EAAkB,QAAT,EAACqB,EAAI7G,YAAI,aAAR,EAAUU,KACpBF,aAAaC,QAAQ,SAAkB,QAAV,EAAEoG,EAAI7G,YAAI,aAAR,EAAUU,KACzCsF,GAAgB,IAEQ,aAAd,QAAR,EAAAa,EAAI7G,YAAI,aAAR,EAAU+G,WACZvG,aAAaC,QAAQ,SAAkB,QAAV,EAAEoG,EAAI7G,YAAI,OAAM,QAAN,EAAR,EAAUA,YAAI,WAAN,EAAR,EAAgBU,KAC/CiF,EAAiB,QAAT,EAACkB,EAAI7G,YAAI,OAAM,QAAN,EAAR,EAAUA,YAAI,WAAN,EAAR,EAAgB8G,OACzBtB,EAAkB,QAAT,EAACqB,EAAI7G,YAAI,OAAM,QAAN,EAAR,EAAUA,YAAI,WAAN,EAAR,EAAgBU,KAC1BsF,GAAgB,IAGlBxF,aAAaC,QACX,0BACQ,QADiB,EACzBoG,EAAI7G,YAAI,OAAM,QAAN,EAAR,EAAUA,YAAI,WAAN,EAAR,EAAgB8G,OAElBvB,GAAa,MAEdnF,OAAM,SAAC4G,GAAS,IAAD,EACdlH,QAAQC,IAAgB,QAAb,EAACiH,EAAInH,gBAAQ,aAAZ,EAAcG,UAGjB,aAAXyF,GACFjF,aAAayG,WAAW,2BA0BQC,CAAarI,IAAI4C,MAAM,WAAS,uBAK5D,kBAAC,IAAG,KACF,yBAAKV,UAAU,mBACb,kBAAC,IAAG,MACgB,IAAjBgF,EACC,oCACE,kBAAC,IAAG,CAAChF,UAAU,QACb,kBAAC,IAAS,CAACoG,OAAK,GACd,kBAAC,IAAK,CACJlI,MAAM,SACN8C,QAAS,SAAClD,GACR6G,EAAU7G,EAAEE,OAAOE,QAErBD,KAAK,SACLiC,KAAK,UAEP,kBAAC,IAAK,CAACkG,OAAK,gBAIhB,KAEJ,kBAAC,IAAG,CAACpG,UAAU,QACb,kBAAC,IAAS,CAACoG,OAAK,GACd,kBAAC,IAAK,CACJlI,MAAM,WACN8C,QAAS,SAAClD,GACR6G,EAAU7G,EAAEE,OAAOE,OArDV,WAC7B,IAAMmI,EAAY5G,aAAamG,QAAQ,UACvC7G,QAAQC,IAAIqH,GACZvB,GAAQ,GACRrG,IACGkE,IAAI,8BAAD,OAA+B0D,IAClCxH,MAAK,SAACiH,GACL/G,QAAQC,IAAI8G,EAAI7G,MAChBgG,GAAgB,GAChBxF,aAAayG,WAAW,UACxB9H,OAAOC,SAASC,QAAQ,QAEzBe,OAAM,SAAC4G,GACNlH,QAAQC,IAAIiH,EAAInH,aAyCAwH,IAEFrI,KAAK,SACLiC,KAAK,UAEP,kBAAC,IAAK,CAACkG,OAAK,iBAGN,IAATvB,EACC,kBAAC,IAAG,KACF,kBAAC,IAAS,OAEV,SAKZ,kBAAC,IAAG,KACF,yBAAK7E,UAAU,aACZuE,GAAwB,WAAXG,EACZ,yBAAK5D,MAAO,CAAEyF,QAAS,OAAQpC,MAAO,QAASC,OAAQ,SAErD,kBAAC,IAAS,MACV,wCAGF,qCACe,IAAZW,EACC,oCACE,kBAAC,IAAM,CAAC/D,QAAS,kBAAMwD,GAAa,IAAO9D,MAAM,WAAS,oBAI1D,Y,iCC1MpB,yEAEI8F,EAAY,CAAC,YAAa,YAAa,MAAO,WAAY,QAAS,SAAU,OAK7EC,EAAY,CACdC,SAAUC,IAAUC,KACpBC,IAAKF,IAAUG,KACfV,MAAOO,IAAUG,KACjBC,OAAQJ,IAAUG,KAClBE,SAAUL,IAAUG,KACpBG,IAAKC,cACLlH,UAAW2G,IAAUQ,OACrBC,UAAWT,IAAUU,QAMnBC,EAAY,SAAmB1J,GACjC,IAAIoC,EAAYpC,EAAMoC,UAClBoH,EAAYxJ,EAAMwJ,UAClBP,EAAMjJ,EAAMiJ,IACZG,EAAWpJ,EAAMoJ,SACjBZ,EAAQxI,EAAMwI,MACdW,EAASnJ,EAAMmJ,OACfQ,EAAM3J,EAAMqJ,IACZO,EAAaC,YAA8B7J,EAAO4I,GAElDkB,EAAUC,0BAAgBC,IAAW5H,IAAW6G,GAAM,MAAeT,EAAQ,aAAe,gBAAcA,IAASW,IAAS,uBAA6BX,IAASY,IAAW,YAAqBI,GAMtM,MAJY,aAARG,IACFC,EAAWR,SAAWA,GAGJ/F,IAAM4G,cAAcN,EAAKO,YAAS,GAAIN,EAAY,CACpExH,UAAW0H,MAIfJ,EAAUb,UAAYA,EACtBa,EAAUS,aA1BS,CACjBd,IAAK,OA0BQK","file":"static/js/70.7979310c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport {\r\n  CardBody,\r\n  FormGroup,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Label,\r\n  Col,\r\n} from \"reactstrap\";\r\nimport { Phone } from \"react-feather\";\r\nimport { loginWithJWT } from \"../../../../redux/actions/auth/loginActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Route } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n// import { history } from \"../../../../history\";\r\nimport axiosConfig from \"../../../../axiosConfig\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport \"react-phone-input-2/lib/style.css\";\r\nclass LoginJWT extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mobile: \"\",\r\n      otpMsg: \"\",\r\n      otp: \"\",\r\n    };\r\n  }\r\n  handlechange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  handleSignUp = (e) => {\r\n    window.location.replace(\"/#/pages/register\");\r\n  };\r\n  handleLogin = (e) => {\r\n    e.preventDefault();\r\n    axiosConfig\r\n      .post(\"/user/loginsendotp\", {\r\n        mobile: this.state.mobile,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        this.setState({ otpMsg: response.data.msg });\r\n        if (response.data.msg === \"Waiting for Admin Approval\") {\r\n          swal(\"Waiting for Admin Approval\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        swal(\r\n          \"error!\",\r\n          \"Invalied! Please enter valied Phone No. or Password\",\r\n          \"error\"\r\n        );\r\n      });\r\n  };\r\n  handleOtp = (e) => {\r\n    e.preventDefault();\r\n    axiosConfig\r\n      .post(\"/user/loginVerify\", {\r\n        mobile: this.state.mobile,\r\n        otp: this.state.otp,\r\n      })\r\n\r\n      .then((response) => {\r\n        // console.log(response.data);\r\n        // console.log(response.data._id);\r\n        if (response.data.msg === \"otp verified\") {\r\n          swal(\"Login Successfull\");\r\n          localStorage.setItem(\"astroId\", response.data._id);\r\n          localStorage.setItem(\"astroData\", JSON.stringify(response.data));\r\n          // localStorage.setItem(\"user_id\", response.data.data._id);\r\n          // this.props.history.push(\"/\");\r\n          window.location.replace(\"/#/\");\r\n          // swal(\"Login Successfull\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data._id);\r\n        swal(\r\n          \"error!\",\r\n          \"Invalied! Please enter valied Phone No. or Password\",\r\n          \"error\"\r\n        );\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.otpMsg === \"otp Send Successfully\" ? (\r\n          <CardBody className=\"pt-1\">\r\n            <Form onSubmit={this.handleOtp}>\r\n              <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"otp\"\r\n                  required\r\n                  placeholder=\"Enter OTP\"\r\n                  maxLength={6}\r\n                  value={this.state.otp}\r\n                  onChange={this.handlechange}\r\n                  // required\r\n                />\r\n\r\n                <Label>OTP*</Label>\r\n              </FormGroup>\r\n\r\n              <div className=\"d-flex justify-content-center\">\r\n                <Route\r\n                  render={({ history }) => (\r\n                    <Button.Ripple color=\"primary\" type=\"submit\">\r\n                      Login\r\n                    </Button.Ripple>\r\n                  )}\r\n                />\r\n              </div>\r\n            </Form>\r\n          </CardBody>\r\n        ) : (\r\n          <CardBody className=\"pt-1\">\r\n            <Form onSubmit={this.handleLogin}>\r\n              <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n                <div className=\"form-group mtb-10\">\r\n                  <Label>Mobile Number*</Label>\r\n                  <PhoneInput\r\n                    countryCodeEditable={false}\r\n                    className=\"mob-int\"\r\n                    country={\"in\"}\r\n                    value={this.state.mobile}\r\n                    onChange={(mobile) => {\r\n                      this.setState({ mobile: mobile });\r\n                    }}\r\n                  />\r\n                  {this.state.mobileError !== \"\" ? (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {this.state.mobileError}\r\n                    </span>\r\n                  ) : null}\r\n                </div>\r\n                {/* </Col> */}\r\n              </FormGroup>\r\n\r\n              <div className=\"d-flex justify-content-center\">\r\n                <Route\r\n                  render={({ history }) => (\r\n                    <Button.Ripple color=\"primary\" type=\"submit\">\r\n                      Get OTP\r\n                    </Button.Ripple>\r\n                  )}\r\n                />\r\n              </div>\r\n            </Form>\r\n\r\n            <div className=\"d-flex mt-2 justify-content-between\">\r\n              <div>New On Our PlatForm </div>\r\n              <Route\r\n                render={({ history }) => (\r\n                  <div\r\n                    className=\"\"\r\n                    style={{ color: \"blue\", cursor: \"pointer\" }}\r\n                    onClick={this.handleSignUp}\r\n                  >\r\n                    SignUp\r\n                  </div>\r\n                )}\r\n              />\r\n              {/* <Route\r\n                render={({ history }) => (\r\n                  <button color=\"primary\" type=\"submit\">\r\n                    Sign up\r\n                  </button>\r\n                )}\r\n              /> */}\r\n            </div>\r\n          </CardBody>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    values: state.auth.login,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { loginWithJWT })(LoginJWT);\r\n","// import React, { Component } from \"react\";\r\n\r\n// class Demo2 extends Component {\r\n//   constructor() {\r\n//     super();\r\n//     this.state = {\r\n//       name: \"React\",\r\n//     };\r\n//     this.onValueChange = this.onValueChange.bind(this);\r\n//     this.formSubmit = this.formSubmit.bind(this);\r\n//   }\r\n\r\n//   onValueChange(event) {\r\n//     this.setState({\r\n//       selectedOption: event.target.value,\r\n//     });\r\n//   }\r\n\r\n//   formSubmit(event) {\r\n//     event.preventDefault();\r\n//     console.log(this.state.selectedOption);\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <form onSubmit={this.formSubmit}>\r\n//         <div className=\"radio\">\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               value=\"Available\"\r\n//               checked={this.state.selectedOption === \"Available\"}\r\n//               onChange={this.onValueChange}\r\n//             />\r\n//             Available\r\n//           </label>\r\n//         </div>\r\n//         <div className=\"radio\">\r\n//           <label>\r\n//             <input\r\n//               type=\"radio\"\r\n//               value=\"unavailable\"\r\n//               checked={this.state.selectedOption === \"unavailable\"}\r\n//               onChange={this.onValueChange}\r\n//             />\r\n//             Unavailable\r\n//           </label>\r\n//         </div>\r\n\r\n//         <button className=\"btn btn-primary\" type=\"submit\">\r\n//           Submit\r\n//         </button>\r\n//       </form>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default Demo2;\r\nimport * as React from \"react\";\r\nimport { getastroID } from \"../../pages/authentication/login/LoginJWT\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\nimport \"../../../assets/scss/pages/live-streaming.scss\";\r\n\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getUrlParams(url = window.location.href) {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function App() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n  console.log(\"Room\", roomID);\r\n  let role_str = \"Host\";\r\n  // getUrlParams(window.location.href).get(\"role\") || \"Host\";\r\n  const role = ZegoUIKitPrebuilt.Host;\r\n  console.log(\"role\", role);\r\n  // role_str === \"Host\"\r\n  // :\r\n  // role_str === \"Cohost\"\r\n  // ? ZegoUIKitPrebuilt.Cohost\r\n  // : ZegoUIKitPrebuilt.Audience;\r\n\r\n  let sharedLinks = [];\r\n  if (role === ZegoUIKitPrebuilt.Host || role === ZegoUIKitPrebuilt.Cohost) {\r\n    sharedLinks.push({\r\n      name: \"Join as co-host\",\r\n      url:\r\n        window.location.protocol +\r\n        \"//\" +\r\n        window.location.host +\r\n        window.location.pathname +\r\n        \"?roomID=\" +\r\n        roomID +\r\n        \"&role=Cohost\",\r\n    });\r\n  }\r\n  sharedLinks.push({\r\n    name: \"Join as audience\",\r\n    url:\r\n      window.location.protocol +\r\n      \"//\" +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      \"?roomID=\" +\r\n      roomID +\r\n      \"&role=Audience\",\r\n  });\r\n  // generate Kit Token\r\n  const appID = 912338888;\r\n  const userName = randomID(5);\r\n  // const astrodetails = getastroID();\r\n  const serverSecret = \"2d117c2d3654bbba1611b3631f5ba758\";\r\n  const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n    appID,\r\n    serverSecret,\r\n    roomID,\r\n    randomID(5),\r\n    userName\r\n\r\n    // astrodetails\r\n  );\r\n  console.log(roomID);\r\n  // start the call\r\n  let myMeeting = async (element) => {\r\n    // Create instance object from Kit Token.\r\n    const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n    // start the call\r\n\r\n    zp.joinRoom({\r\n      container: element,\r\n      useFrontFacingCamera: false,\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.LiveStreaming,\r\n        config: {\r\n          role,\r\n        },\r\n      },\r\n      sharedLinks,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"myCallContainer \"\r\n        ref={myMeeting}\r\n        style={{ width: \"100vw\", height: \"100vh\" }}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Card, Col, FormGroup, Input, Label, Row } from \"reactstrap\";\r\n// import AgoraUIKit from \"agora-react-uikit\";\r\nimport Streaming from \"../calls/Streaming\";\r\nimport \"./../../../assets/scss/video.scss\";\r\n\r\nimport axiosConfig from \"../../../axiosConfig\";\r\nimport { history } from \"../../../history\";\r\nimport swal from \"sweetalert\";\r\n\r\nfunction YourliveStream() {\r\n  const [videoCall, setVideoCall] = useState(false);\r\n  const [liveid, setliveId] = useState(\"\");\r\n  const [channelNamecreated, setchannelName] = useState(\"\");\r\n  const [Status, setStatus] = useState(\"\");\r\n  const [Token, setToken] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n  const [Addcall, setAddcall] = useState(false);\r\n  const [livestraming, setlivestraming] = useState(false);\r\n\r\n  const [view, setview] = useState(false);\r\n  const [listofchannel, setlistofchannel] = useState();\r\n\r\n  //   const rtcProps = {\r\n  //     // Pass your App ID here.\r\n  //     appId: \"7d1f07c76f9d46be86bc46a791884023\",\r\n  //     // Set the channel name.\r\n  //     channel: channelNamecreated,\r\n  //     enableVideo: true,\r\n\r\n  //     // Pass your temp token here.\r\n  //     token: Token || localStorage.getItem(\"astrotokenforlivestream\"),\r\n\r\n  //     uid: 0,\r\n  //     // Set the user role\r\n  //     role: \"host\",\r\n  //   };\r\n\r\n  useEffect(() => {\r\n    const handlePopstate = () => {\r\n      // Push a new state to the history to keep the user on the current page\r\n      window.history.pushState(null, null, window.location.pathname);\r\n    };\r\n\r\n    // Add event listener to handle the popstate event\r\n    window.addEventListener(\"popstate\", handlePopstate);\r\n\r\n    return () => {\r\n      // Clean up the event listener when the component unmounts\r\n      window.removeEventListener(\"popstate\", handlePopstate);\r\n    };\r\n  }, []);\r\n\r\n  //   const callbacks = {\r\n  //     EndCall: () => {\r\n  //       setVideoCall(false);\r\n  //       // console.log(liveid);\r\n  //       const astroid = localStorage.getItem(\"astroId\");\r\n  //       axiosConfig\r\n  //         .get(`/user/disConnectLiveStream/${liveid}`)\r\n  //         .then((res) => {\r\n  //           // window.location. ();\r\n  //           console.log(res.data);\r\n  //           setlivestraming(false);\r\n  //         })\r\n  //         .catch((err) => {\r\n  //           console.log(err.response);\r\n  //         });\r\n  //     },\r\n  //   };\r\n\r\n  const handlestatus = (e) => {\r\n    e.preventDefault();\r\n    const astroid = localStorage.getItem(\"astroId\");\r\n\r\n    const payload = {\r\n      astroAccount: astroid,\r\n      status: true,\r\n    };\r\n\r\n    if (Status === \"Active\") {\r\n      setShow(true);\r\n      axiosConfig\r\n        .post(`/user/astroLiveStreaming`, payload)\r\n\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          if (res.data.msg === \"already exists\") {\r\n            setToken(res.data?.token);\r\n            setliveId(res.data?._id);\r\n            localStorage.setItem(\"liveid\", res.data?._id);\r\n            setlivestraming(true);\r\n          }\r\n          if (res.data?.message === \"success\") {\r\n            localStorage.setItem(\"liveid\", res.data?.data?._id);\r\n            setToken(res.data?.data?.token);\r\n            setliveId(res.data?.data?._id);\r\n            setlivestraming(true);\r\n          }\r\n\r\n          localStorage.setItem(\r\n            \"astrotokenforlivestream\",\r\n            res.data?.data?.token\r\n          );\r\n          setVideoCall(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response?.data);\r\n        });\r\n    }\r\n    if (Status === \"Deactive\") {\r\n      localStorage.removeItem(\"astrotokenforlivestream\");\r\n    }\r\n  };\r\n\r\n  const handleofflinestreaming = () => {\r\n    const liveidnew = localStorage.getItem(\"liveid\");\r\n    console.log(liveidnew);\r\n    setShow(false);\r\n    axiosConfig\r\n      .get(`/user/disConnectLiveStream/${liveidnew}`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setlivestraming(false);\r\n        localStorage.removeItem(\"liveid\");\r\n        window.location.replace(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"m-0 livestream\">\r\n      <Card>\r\n        <Row>\r\n          <Col lg=\"4\" md=\"4\" sm=\"4\">\r\n            <div className=\"container mt-2 mb-1\">\r\n              <Button onClick={(e) => handlestatus(e)} color=\"success\">\r\n                liveStreaming Now\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n          <Col>\r\n            <div className=\"container my-1 \">\r\n              <Row>\r\n                {livestraming === false ? (\r\n                  <>\r\n                    <Col className=\"mt-1\">\r\n                      <FormGroup check>\r\n                        <Input\r\n                          value=\"Active\"\r\n                          onClick={(e) => {\r\n                            setStatus(e.target.value);\r\n                          }}\r\n                          name=\"radio1\"\r\n                          type=\"radio\"\r\n                        />\r\n                        <Label check>Online</Label>\r\n                      </FormGroup>\r\n                    </Col>\r\n                  </>\r\n                ) : null}\r\n\r\n                <Col className=\"mt-1\">\r\n                  <FormGroup check>\r\n                    <Input\r\n                      value=\"Deactive\"\r\n                      onClick={(e) => {\r\n                        setStatus(e.target.value);\r\n                        handleofflinestreaming();\r\n                      }}\r\n                      name=\"radio1\"\r\n                      type=\"radio\"\r\n                    />\r\n                    <Label check>Offline</Label>\r\n                  </FormGroup>\r\n                </Col>\r\n                {show === true ? (\r\n                  <Col>\r\n                    <Streaming />\r\n                  </Col>\r\n                ) : null}\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <div className=\"mt-1 mb-1\">\r\n            {videoCall && Status === \"Active\" ? (\r\n              <div style={{ display: \"flex\", width: \"100vw\", height: \"80vh\" }}>\r\n                {/* <AgoraUIKit rtcProps={rtcProps} callbacks={callbacks} /> */}\r\n                <Streaming />\r\n                <h3>Testing</h3>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {Addcall === true ? (\r\n                  <>\r\n                    <Button onClick={() => setVideoCall(true)} color=\"success\">\r\n                      liveStreams Now\r\n                    </Button>\r\n                  </>\r\n                ) : null}\r\n              </>\r\n            )}\r\n          </div>\r\n        </Row>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default YourliveStream;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;"],"sourceRoot":""}