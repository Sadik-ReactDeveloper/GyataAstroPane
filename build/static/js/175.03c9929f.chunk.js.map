{"version":3,"sources":["views/apps/calls/Streaming.js","views/apps/calls/LiveStreaming.js"],"names":["i","randomID","len","result","chars","maxPos","length","charAt","Math","floor","random","getUrlParams","url","window","location","href","urlStr","split","URLSearchParams","App","roomID","get","role_str","role","ZegoUIKitPrebuilt","Host","Cohost","Audience","sharedLinks","push","name","protocol","host","pathname","kitToken","generateKitTokenForTest","myMeeting","element","create","joinRoom","container","scenario","mode","LiveStreaming","config","onJoinRoom","console","log","onLiveStart","axiosConfig","post","astroid","status","videoliveStream","then","response","data","catch","error","className","ref","style","width","height","Demo2","onValueChange","state","bind","type","value","onClick","e","setState","selectedOption","target","this","Component"],"mappings":";gQACA,kmGAAAA,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAEA,SAASC,EAASC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEH,EAFEI,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAJ,EAAMA,GAAO,EACRF,EAAI,EAAGA,EAAIE,EAAKF,IACnBG,GAAUC,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEpD,OAAOF,EAGF,SAASQ,IAA0C,IAA7BC,EAAG,uDAAGC,OAAOC,SAASC,KAC7CC,EAASJ,EAAIK,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAGd,SAASG,IACtB,IAAMC,EAAST,IAAeU,IAAI,WAAapB,EAAS,GACpDqB,EAAWX,EAAaE,OAAOC,SAASC,MAAMM,IAAI,SAAW,OAC3DE,EACS,SAAbD,EACIE,oBAAkBC,KACL,WAAbH,EACAE,oBAAkBE,OAClBF,oBAAkBG,SAEpBC,EAAc,GACdL,IAASC,oBAAkBC,MAAQF,IAASC,oBAAkBE,QAChEE,EAAYC,KAAK,CACfC,KAAM,kBACNlB,IACEC,OAAOC,SAASiB,SAChB,KACAlB,OAAOC,SAASkB,KAChBnB,OAAOC,SAASmB,SAChB,WACAb,EACA,iBAGNQ,EAAYC,KAAK,CACfC,KAAM,mBACNlB,IACEC,OAAOC,SAASiB,SAChB,KACAlB,OAAOC,SAASkB,KAChBnB,OAAOC,SAASmB,SAChB,WACAb,EACA,mBAGJ,IAEMc,EAAWV,oBAAkBW,wBAFrB,UACO,mCAInBf,EACAnB,EAAS,GACTA,EAAS,IAIPmC,EAAS,uCAAG,WAAOC,GAAO,iEAEjBb,oBAAkBc,OAAOJ,GAIjCK,SAAS,CACVC,UAAWH,EACXI,SAAU,CACRC,KAAMlB,oBAAkBmB,cACxBC,OAAQ,CACNrB,QAGFsB,WAAY,WACVC,QAAQC,IAAI,6BAEdC,YAAa,WACXF,QAAQC,IAAI,aAMZE,IACGC,KAAK,sBANE,CACRC,QAAS,2BACTC,OAAQ,SACRC,gBAAiB,aAIhBC,MAAK,SAACC,GACLT,QAAQC,IAAI,aAAcQ,EAASC,SAEpCC,OAAM,SAACC,GACNZ,QAAQC,IAAIW,QAIpB9B,gBACC,2CACJ,gBApCY,sCAsCb,OACE,uBACE+B,UAAU,kBACVC,IAAKxB,EACLyB,MAAO,CAAEC,MAAO,OAAQC,OAAQ,UC5GtC,IACMC,EAAK,kDACT,aAAe,IAAD,EAMZ,OANY,qBACZ,gBAQFC,cAAgB,aAPd,EAAKC,MAAQ,CACXpC,KAAM,IAER,EAAKmC,cAAgB,EAAKA,cAAcE,KAAK,gBAC7C,EA6DD,OA5DA,mCAoBD,WAAU,IAAD,OACP,OACE,oCACE,yBAAKR,UAAU,SACb,+BACE,2BACE7B,KAAK,OACLsC,KAAK,QACLC,MAAM,YAENC,QAAS,SAACC,GACR,EAAKC,SAAS,CAAEC,eAAgBF,EAAEG,OAAOL,QACzC,EAAKJ,mBAEP,cAIN,yBAAKN,UAAU,SACb,+BACE,2BACE7B,KAAK,OACLsC,KAAK,QACLC,MAAM,cAENC,QAAS,SAACC,GACR,EAAKC,SAAS,CAAEC,eAAgBF,EAAEG,OAAOL,QACzC,EAAKJ,mBAEP,gBAIyB,cAA9BU,KAAKT,MAAMO,eACV,oCACE,kBAAC,EAAS,OAEV,UAGT,EApEQ,CAASG,aAuELZ","file":"static/js/175.03c9929f.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\nimport axiosConfig from \"../../../axiosConfig\";\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getUrlParams(url = window.location.href) {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function App() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n  let role_str = getUrlParams(window.location.href).get(\"role\") || \"Host\";\r\n  const role =\r\n    role_str === \"Host\"\r\n      ? ZegoUIKitPrebuilt.Host\r\n      : role_str === \"Cohost\"\r\n      ? ZegoUIKitPrebuilt.Cohost\r\n      : ZegoUIKitPrebuilt.Audience;\r\n\r\n  let sharedLinks = [];\r\n  if (role === ZegoUIKitPrebuilt.Host || role === ZegoUIKitPrebuilt.Cohost) {\r\n    sharedLinks.push({\r\n      name: \"Join as co-host\",\r\n      url:\r\n        window.location.protocol +\r\n        \"//\" +\r\n        window.location.host +\r\n        window.location.pathname +\r\n        \"?roomID=\" +\r\n        roomID +\r\n        \"&role=Cohost\",\r\n    });\r\n  }\r\n  sharedLinks.push({\r\n    name: \"Join as audience\",\r\n    url:\r\n      window.location.protocol +\r\n      \"//\" +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      \"?roomID=\" +\r\n      roomID +\r\n      \"&role=Audience\",\r\n  });\r\n  // generate Kit Token\r\n  const appID = 912338888;\r\n  const serverSecret = \"2d117c2d3654bbba1611b3631f5ba758\";\r\n  const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n    appID,\r\n    serverSecret,\r\n    roomID,\r\n    randomID(5),\r\n    randomID(5)\r\n  );\r\n\r\n  // start the call\r\n  let myMeeting = async (element) => {\r\n    // Create instance object from Kit Token.\r\n    const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n    // let astroid = localStorage.getItem(\"astroId\");\r\n\r\n    // start the call\r\n    zp.joinRoom({\r\n      container: element,\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.LiveStreaming,\r\n        config: {\r\n          role,\r\n        },\r\n\r\n        onJoinRoom: () => {\r\n          console.log(\"22222sacfsdsdsddssssssas\");\r\n        },\r\n        onLiveStart: () => {\r\n          console.log(\"sasssssas\");\r\n          let obj = {\r\n            astroid: \"641849569c86e60b9b9d3d37\",\r\n            status: \"Online\",\r\n            videoliveStream: \"cdsdfvvg\",\r\n          };\r\n          axiosConfig\r\n            .post(\"/user/WebliveStream\", obj)\r\n            .then((response) => {\r\n              console.log(\"LIVE Call \", response.data);\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        },\r\n      },\r\n      sharedLinks,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"myCallContainer\"\r\n      ref={myMeeting}\r\n      style={{ width: \"80vw\", height: \"80vh\" }}\r\n    ></div>\r\n  );\r\n}\r\n\r\n// // import React, { Component } from \"react\";\r\n\r\n// // class Demo2 extends Component {\r\n// //   constructor() {\r\n// //     super();\r\n// //     this.state = {\r\n// //       name: \"React\",\r\n// //     };\r\n// //     this.onValueChange = this.onValueChange.bind(this);\r\n// //     this.formSubmit = this.formSubmit.bind(this);\r\n// //   }\r\n\r\n// //   onValueChange(event) {\r\n// //     this.setState({\r\n// //       selectedOption: event.target.value,\r\n// //     });\r\n// //   }\r\n\r\n// //   formSubmit(event) {\r\n// //     event.preventDefault();\r\n// //     console.log(this.state.selectedOption);\r\n// //   }\r\n\r\n// //   render() {\r\n// //     return (\r\n// //       <form onSubmit={this.formSubmit}>\r\n// //         <div className=\"radio\">\r\n// //           <label>\r\n// //             <input\r\n// //               type=\"radio\"\r\n// //               value=\"Available\"\r\n// //               checked={this.state.selectedOption === \"Available\"}\r\n// //               onChange={this.onValueChange}\r\n// //             />\r\n// //             Available\r\n// //           </label>\r\n// //         </div>\r\n// //         <div className=\"radio\">\r\n// //           <label>\r\n// //             <input\r\n// //               type=\"radio\"\r\n// //               value=\"unavailable\"\r\n// //               checked={this.state.selectedOption === \"unavailable\"}\r\n// //               onChange={this.onValueChange}\r\n// //             />\r\n// //             Unavailable\r\n// //           </label>\r\n// //         </div>\r\n\r\n// //         <button className=\"btn btn-primary\" type=\"submit\">\r\n// //           Submit\r\n// //         </button>\r\n// //       </form>\r\n// //     );\r\n// //   }\r\n// // }\r\n\r\n// // export default Demo2;\r\n// import * as React from \"react\";\r\n// import { getastroID } from \"../../pages/authentication/login/LoginJWT\";\r\n// import { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\n// import \"../../../assets/scss/pages/live-streaming.scss\";\r\n\r\n// function randomID(len) {\r\n//   let result = \"\";\r\n//   if (result) return result;\r\n//   var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n//     maxPos = chars.length,\r\n//     i;\r\n//   len = len || 5;\r\n//   for (i = 0; i < len; i++) {\r\n//     result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n//   }\r\n//   return result;\r\n// }\r\n\r\n// export function getUrlParams(url = window.location.href) {\r\n//   let urlStr = url.split(\"?\")[1];\r\n//   return new URLSearchParams(urlStr);\r\n// }\r\n\r\n// export default function App() {\r\n//   const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n//   console.log(\"Room\", roomID);\r\n//   let role_str = \"Host\";\r\n//   // getUrlParams(window.location.href).get(\"role\") || \"Host\";\r\n//   const role = ZegoUIKitPrebuilt.Host;\r\n//   console.log(\"role\", role);\r\n//   // role_str === \"Host\"\r\n//   // :\r\n//   // role_str === \"Cohost\"\r\n//   // ? ZegoUIKitPrebuilt.Cohost\r\n//   // : ZegoUIKitPrebuilt.Audience;\r\n\r\n//   let sharedLinks = [];\r\n//   if (role === ZegoUIKitPrebuilt.Host || role === ZegoUIKitPrebuilt.Cohost) {\r\n//     sharedLinks.push({\r\n//       name: \"Join as co-host\",\r\n//       url:\r\n//         window.location.protocol +\r\n//         \"//\" +\r\n//         window.location.host +\r\n//         window.location.pathname +\r\n//         \"?roomID=\" +\r\n//         roomID +\r\n//         \"&role=Cohost\",\r\n//     });\r\n//   }\r\n//   sharedLinks.push({\r\n//     name: \"Join as audience\",\r\n//     url:\r\n//       window.location.protocol +\r\n//       \"//\" +\r\n//       window.location.host +\r\n//       window.location.pathname +\r\n//       \"?roomID=\" +\r\n//       roomID +\r\n//       \"&role=Audience\",\r\n//   });\r\n//   // generate Kit Token\r\n//   const appID = 912338888;\r\n//   const userName = randomID(5);\r\n//   // const astrodetails = getastroID();\r\n//   const serverSecret = \"2d117c2d3654bbba1611b3631f5ba758\";\r\n//   const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n//     appID,\r\n//     serverSecret,\r\n//     roomID,\r\n//     randomID(5),\r\n//     userName\r\n\r\n//     // astrodetails\r\n//   );\r\n//   console.log(roomID);\r\n//   // start the call\r\n//   let myMeeting = async (element) => {\r\n//     // Create instance object from Kit Token.\r\n//     const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n//     // start the call\r\n\r\n//     zp.joinRoom({\r\n//       container: element,\r\n//       useFrontFacingCamera: false,\r\n//       scenario: {\r\n//         mode: ZegoUIKitPrebuilt.LiveStreaming,\r\n//         config: {\r\n//           role,\r\n//         },\r\n//       },\r\n//       sharedLinks,\r\n//     });\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <div\r\n//         className=\"myCallContainer \"\r\n//         ref={myMeeting}\r\n//         style={{ width: \"100vw\", height: \"100vh\" }}\r\n//       ></div>\r\n//     </>\r\n//   );\r\n// }\r\n","import React, { Component } from \"react\";\r\nimport Streaming from \"./Streaming\";\r\n// import axiosConfig from \"../../../axiosConfig\";\r\nclass Demo2 extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n    };\r\n    this.onValueChange = this.onValueChange.bind(this);\r\n    // this.formSubmit = this.formSubmit.bind(this);\r\n  }\r\n\r\n  onValueChange = () => {\r\n    // alert(\"check\");\r\n    // console.log(event);\r\n    // if (event.target.value === \"unavailable\") {\r\n    //   window.location.reload();\r\n    // }\r\n    // else {\r\n    //   axiosConfig\r\n    //     .post(``)\r\n    //     .then((res) => {\r\n    //       console.log(res);\r\n    //     })\r\n    //     .catch((error) => {\r\n    //       console.log(error);\r\n    //     });\r\n    // }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"radio\">\r\n          <label>\r\n            <input\r\n              name=\"name\"\r\n              type=\"radio\"\r\n              value=\"Available\"\r\n              // checked={this.state.selectedOption === \"Available\"}\r\n              onClick={(e) => {\r\n                this.setState({ selectedOption: e.target.value });\r\n                this.onValueChange();\r\n              }}\r\n            />\r\n            Available\r\n          </label>\r\n        </div>\r\n        <div className=\"radio\">\r\n          <label>\r\n            <input\r\n              name=\"name\"\r\n              type=\"radio\"\r\n              value=\"unavailable\"\r\n              // checked={this.state.selectedOption === \"unavailable\"}\r\n              onClick={(e) => {\r\n                this.setState({ selectedOption: e.target.value });\r\n                this.onValueChange();\r\n              }}\r\n            />\r\n            Unavailable\r\n          </label>\r\n        </div>\r\n        {this.state.selectedOption === \"Available\" ? (\r\n          <>\r\n            <Streaming />\r\n          </>\r\n        ) : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Demo2;\r\n"],"sourceRoot":""}