{"version":3,"sources":["views/apps/calls/LiveStreaming.js"],"names":["randomID","len","result","i","chars","maxPos","length","charAt","Math","floor","random","getUrlParams","url","window","location","href","urlStr","split","URLSearchParams","App","roomID","get","console","log","role","ZegoUIKitPrebuilt","Host","sharedLinks","Cohost","push","name","protocol","host","pathname","userName","kitToken","generateKitTokenForTest","myMeeting","element","create","joinRoom","container","useFrontFacingCamera","scenario","mode","LiveStreaming","config","className","ref","style","width","height"],"mappings":";0TACA,06MAGA,SAASA,EAASC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEC,EAFEC,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAL,EAAMA,GAAO,EACRE,EAAI,EAAGA,EAAIF,EAAKE,IACnBD,GAAUE,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEpD,OAAOH,EAGF,SAASS,IAA0C,IAA7BC,EAAG,uDAAGC,OAAOC,SAASC,KAC7CC,EAASJ,EAAIK,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAGd,SAASG,IACtB,IAAMC,EAAST,IAAeU,IAAI,WAAarB,EAAS,GACxDsB,QAAQC,IAAI,OAAQH,GACpB,IAEMI,EAAOC,oBAAkBC,KAC/BJ,QAAQC,IAAI,OAAQC,GAOpB,IAAIG,EAAc,GACdH,IAASC,oBAAkBC,MAAQF,IAASC,oBAAkBG,QAChED,EAAYE,KAAK,CACfC,KAAM,kBACNlB,IACEC,OAAOC,SAASiB,SAChB,KACAlB,OAAOC,SAASkB,KAChBnB,OAAOC,SAASmB,SAChB,WACAb,EACA,iBAGNO,EAAYE,KAAK,CACfC,KAAM,mBACNlB,IACEC,OAAOC,SAASiB,SAChB,KACAlB,OAAOC,SAASkB,KAChBnB,OAAOC,SAASmB,SAChB,WACAb,EACA,mBAGJ,IACMc,EAAWlC,EAAS,GAGpBmC,EAAWV,oBAAkBW,wBAJrB,UAGO,mCAInBhB,EACApB,EAAS,GAETkC,GAIFZ,QAAQC,IAAIH,GAEZ,IAAIiB,EAAS,uCAAG,WAAOC,GAAO,iEAEjBb,oBAAkBc,OAAOJ,GAGjCK,SAAS,CACVC,UAAWH,EACXI,sBAAsB,EACtBC,SAAU,CACRC,KAAMnB,oBAAkBoB,cACxBC,OAAQ,CACNtB,SAGJG,gBACC,2CACJ,gBAhBY,sCAkBb,OACE,uBACEoB,UAAU,mBACVC,IAAKX,EACLY,MAAO,CAAEC,MAAO,QAASC,OAAQ","file":"static/js/142.74346220.chunk.js","sourcesContent":["import * as React from \"react\";\r\n// import { getastroID } from \"../../pages/authentication/login/LoginJWT\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\nimport \"../../../assets/scss/pages/live-streaming.scss\";\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getUrlParams(url = window.location.href) {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function App() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n  console.log(\"Room\", roomID);\r\n  let role_str = \"Host\";\r\n  // getUrlParams(window.location.href).get(\"role\") || \"Host\";\r\n  const role = ZegoUIKitPrebuilt.Host;\r\n  console.log(\"role\", role);\r\n  // role_str === \"Host\"\r\n  // :\r\n  // role_str === \"Cohost\"\r\n  // ? ZegoUIKitPrebuilt.Cohost\r\n  // : ZegoUIKitPrebuilt.Audience;\r\n\r\n  let sharedLinks = [];\r\n  if (role === ZegoUIKitPrebuilt.Host || role === ZegoUIKitPrebuilt.Cohost) {\r\n    sharedLinks.push({\r\n      name: \"Join as co-host\",\r\n      url:\r\n        window.location.protocol +\r\n        \"//\" +\r\n        window.location.host +\r\n        window.location.pathname +\r\n        \"?roomID=\" +\r\n        roomID +\r\n        \"&role=Cohost\",\r\n    });\r\n  }\r\n  sharedLinks.push({\r\n    name: \"Join as audience\",\r\n    url:\r\n      window.location.protocol +\r\n      \"//\" +\r\n      window.location.host +\r\n      window.location.pathname +\r\n      \"?roomID=\" +\r\n      roomID +\r\n      \"&role=Audience\",\r\n  });\r\n  // generate Kit Token\r\n  const appID = 912338888;\r\n  const userName = randomID(5);\r\n  // const astrodetails = getastroID();\r\n  const serverSecret = \"2d117c2d3654bbba1611b3631f5ba758\";\r\n  const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n    appID,\r\n    serverSecret,\r\n    roomID,\r\n    randomID(5),\r\n    // randomID(5),\r\n    userName\r\n\r\n    // astrodetails\r\n  );\r\n  console.log(roomID);\r\n  // start the call\r\n  let myMeeting = async (element) => {\r\n    // Create instance object from Kit Token.\r\n    const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n    // start the call\r\n\r\n    zp.joinRoom({\r\n      container: element,\r\n      useFrontFacingCamera: false,\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.LiveStreaming,\r\n        config: {\r\n          role,\r\n        },\r\n      },\r\n      sharedLinks,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"myCallContainer \"\r\n      ref={myMeeting}\r\n      style={{ width: \"100vw\", height: \"100vh\" }}\r\n    ></div>\r\n  );\r\n}\r\n"],"sourceRoot":""}