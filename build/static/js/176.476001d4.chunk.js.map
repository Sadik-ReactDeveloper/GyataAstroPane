{"version":3,"sources":["views/apps/calls/VideoCall.js"],"names":["getUrlParams","url","window","location","href","urlStr","split","URLSearchParams","App","roomID","get","len","result","i","chars","maxPos","length","charAt","Math","floor","random","randomID","token","tok","userID","fetch","method","then","res","json","generateToken","myMeeting","element","KitToken","ZegoUIKitPrebuilt","generateKitTokenForProduction","create","joinRoom","container","sharedLinks","name","protocol","host","pathname","branding","logoURL","scenario","mode","OneONoneCall","className","ref","style","width","height"],"mappings":";2RACA,06MAuBO,SAASA,IAA0C,IAA7BC,EAAG,uDAAGC,OAAOC,SAASC,KAC7CC,EAASJ,EAAIK,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAGd,SAASG,IACtB,IAAMC,EAAST,IAAeU,IAAI,WAlBpC,SAAkBC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEC,EAFEC,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAL,EAAMA,GAAO,EACRE,EAAI,EAAGA,EAAIF,EAAKE,IACnBD,GAAUE,EAAOG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAErD,OAAOH,EAQwCS,CAAS,GAKhDC,EA7BV,SAAuBC,EAAKC,GAE1B,OAAOC,MAAM,GAAD,OAAIF,EAAG,gCAAwBC,EAAM,oBAAoB,CACnEE,OAAQ,QACPC,MAAK,SAACC,GAAG,OAAKA,EAAIC,UAyBHC,CADhB,iQAHa,QAIPR,MACJS,EAAS,uCAAG,WAAOC,GAAO,uEACtBC,EAAWC,oBAAkBC,8BACjC,WACAb,EACAb,EATW,OACE,QAYJyB,oBAAkBE,OAAOH,GAEjCI,SAAS,CACVC,UAAWN,EACXO,YAAa,CACX,CACEC,KAAM,gBACNvC,IACEC,OAAOC,SAASsC,SAChB,KACAvC,OAAOC,SAASuC,KAChB,eACAxC,OAAOC,SAASwC,SAChB,WACAlC,IAINmC,SAAU,CACRC,QACE,wEAEJC,SAAU,CACRC,KAAMb,oBAAkBc,gBAGzB,2CACJ,gBAnCY,sCAsFb,OACE,uBAAKC,UAAU,aACb,uBACEA,UAAU,kCACVC,IAAKnB,EACLoB,MAAO,CAAEC,MAAO,QAASC,OAAQ","file":"static/js/176.476001d4.chunk.js","sourcesContent":["import * as React from \"react\";\r\n// import './style.css';\r\n// import { getUserID } from \"../astrologerdetail\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\n\r\n// get token\r\nfunction generateToken(tok, userID) {\r\n  // Obtain the token interface provided by the App Server\r\n  return fetch(`${tok}/access_token?userID=${userID}&expired_ts=7200`, {\r\n    method: \"GET\",\r\n  }).then((res) => res.json());\r\n}\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars?.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\nexport function getUrlParams(url = window.location.href) {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function App() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(4);\r\n  const userID = \"demo\";\r\n  const userName = \"demo\";\r\n  const tokn =\r\n    \"04AAAAAGRnaDEAEDF2NmRidmFvYzVtMDh5enYAoHQN1UVEX3SvxWqHyD+WAz+z3WcONHy/qPIazySzboYaHIHrFP8JfbW4YtDHgPhgaNS1l1R1229c4Z9ldg0UWlXeycDQyYf2WdBfzn9gTixATQ0Df3JZVR1NxZlgJAWKP6qqoOJnOZYQyY36WDp97m7ue/AS5JMXS5UasV3j56TKhpk3wKbIvkyYxG97NlVRIeWhl1bcPgKUm3L2B1LZ2gQ=\";\r\n  const { token } = generateToken(tokn, userID);\r\n  let myMeeting = async (element) => {\r\n    const KitToken = ZegoUIKitPrebuilt.generateKitTokenForProduction(\r\n      1011009319,\r\n      token,\r\n      roomID,\r\n      userID,\r\n      userName\r\n    );\r\n    const zp = ZegoUIKitPrebuilt.create(KitToken);\r\n\r\n    zp.joinRoom({\r\n      container: element,\r\n      sharedLinks: [\r\n        {\r\n          name: \"Personal link\",\r\n          url:\r\n            window.location.protocol +\r\n            \"//\" +\r\n            window.location.host +\r\n            \"/#/VideoCall\" +\r\n            window.location.pathname +\r\n            \"?roomID=\" +\r\n            roomID,\r\n        },\r\n      ],\r\n      // maxUsers: 4,\r\n      branding: {\r\n        logoURL:\r\n          \"https://www.zegocloud.com/_nuxt/img/zegocloud_logo_white.ddbab9f.png\",\r\n      },\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.OneONoneCall,\r\n      },\r\n      // sharedLinks,\r\n    });\r\n  };\r\n  // let myMeeting = async (element) => {\r\n  //   // generate Kit Token\r\n  //   const appID = 1011009319;\r\n  //   // const response = getUserID();\r\n  //   const serverSecret = \"0b7c5477f07346c1a906c99d3f171f2e\";\r\n  //   //  console.log(window.location.pathname)\r\n  //   const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n  //     appID,\r\n  //     serverSecret,\r\n  //     roomID,\r\n  //     randomID(5).toString(),\r\n  //     \"Sadik Khan\"\r\n  //     //   response\r\n  //   );\r\n\r\n  //   // Create instance object from Kit Token.\r\n  //   const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n  //   // start the call\r\n  //   zp.joinRoom({\r\n  //     container: element,\r\n  //     useFrontFacingCamera: false,\r\n  //     sharedLinks: [\r\n  //       {\r\n  //         name: \"Personal link\",\r\n  //         url:\r\n  //           window.location.protocol +\r\n  //           \"//\" +\r\n  //           window.location.host +\r\n  //           \"/#/VideoCall\" +\r\n  //           window.location.pathname +\r\n  //           \"?roomID=\" +\r\n  //           roomID,\r\n  //       },\r\n  //     ],\r\n  //     turnOnCameraWhenJoining: false,\r\n  //     scenario: {\r\n  //       // mode: ZegoUIKitPrebuilt.VideoConference,\r\n  //       mode: \"OneONoneCall\",\r\n  //       config: {\r\n  //         role: \"Host\",\r\n  //       },\r\n  //     },\r\n\r\n  //     showScreenSharingButton: true,\r\n  //     preJoinViewConfig: {\r\n  //       title: \"Join AstroGyata Meeting Room\",\r\n  //     },\r\n  //   });\r\n  // };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div\r\n        className=\"myCallContainer pt-3  container\"\r\n        ref={myMeeting}\r\n        style={{ width: \"100vw\", height: \"100vh\" }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// import * as React from \"react\";\r\n// // import './style.css';\r\n// // import { getUserID } from \"../astrologerdetail\";\r\n// import { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\n\r\n// function randomID(len) {\r\n//   let result = \"\";\r\n//   if (result) return result;\r\n//   var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n//     maxPos = chars.length,\r\n//     i;\r\n//   len = len || 5;\r\n//   for (i = 0; i < len; i++) {\r\n//     result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n//   }\r\n//   return result;\r\n// }\r\n\r\n// export function getUrlParams(url = window.location.href) {\r\n//   let urlStr = url.split(\"?\")[1];\r\n//   return new URLSearchParams(urlStr);\r\n// }\r\n\r\n// export default function App() {\r\n//   const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n//   let myMeeting = async (element) => {\r\n//     // generate Kit Token\r\n//     const appID = 1011009319;\r\n//     // const response = getUserID();\r\n//     const serverSecret = \"0b7c5477f07346c1a906c99d3f171f2e\";\r\n//     //  console.log(window.location.pathname)\r\n//     const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n//       appID,\r\n//       serverSecret,\r\n//       roomID,\r\n//       randomID(5).toString(),\r\n//       \"Sadik Khan\"\r\n//       //   response\r\n//     );\r\n\r\n//     // Create instance object from Kit Token.\r\n//     const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n//     // start the call\r\n//     zp.joinRoom({\r\n//       container: element,\r\n//       useFrontFacingCamera: false,\r\n//       sharedLinks: [\r\n//         {\r\n//           name: \"Personal link\",\r\n//           url:\r\n//             window.location.protocol +\r\n//             \"//\" +\r\n//             window.location.host +\r\n//             \"/#/VideoCall\" +\r\n//             window.location.pathname +\r\n//             \"?roomID=\" +\r\n//             roomID,\r\n//         },\r\n//       ],\r\n//       turnOnCameraWhenJoining: false,\r\n//       scenario: {\r\n//         // mode: ZegoUIKitPrebuilt.VideoConference,\r\n//         mode: \"OneONoneCall\",\r\n//         config: {\r\n//           role: \"Host\",\r\n//         },\r\n//       },\r\n\r\n//       showScreenSharingButton: true,\r\n//       preJoinViewConfig: {\r\n//         title: \"Join AstroGyata Meeting Room\",\r\n//       },\r\n//     });\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container\">\r\n//       <div\r\n//         className=\"myCallContainer pt-3  container\"\r\n//         ref={myMeeting}\r\n//         style={{ width: \"100vw\", height: \"100vh\" }}\r\n//       ></div>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"sourceRoot":""}